<!DOCTYPE html>
<html>
  <head>
    <title>JS Task7</title>
    <style>
      p {
        color: darkblue;
        font-size: 35px;
        font-weight: bold;
      }
      input[type="button"] {
        font-size: 20px;
        padding: 5px 20px;
      }
    </style>
  </head>
  <body>
    <form>
      <img id="myimg" src="img/train.png" />
      <center>
        <p>Click the below buttons to handle the animations</p>
        <input
          type="button"
          value="Start"
          onclick="startMoving();"
          style="margin-right: 100px"
        />
        <input type="button" value="Stop" onclick="stopMoving();" />
      </center>
    </form>
    <script type="text/javascript">
      var img = null;
      var intervalId = null;
      var screenWidth = window.innerWidth; // Get the width of the screen

      function init() {
        img = document.getElementById("myimg");
        img.style.position = "relative";
        img.style.left = "50px";
      }

      function moveRight() {
        var currentLeft = parseInt(img.style.left);
        if (currentLeft >= screenWidth - img.width) {
          // If the image reaches the end of the screen, reset its position
          img.style.left = "0px";
        } else {
          img.style.left = currentLeft + 100 + "px";
        }
      }

      function startMoving() {
        if (intervalId === null) {
          intervalId = setInterval(moveRight, 1000);
        }
      }

      function stopMoving() {
        if (intervalId !== null) {
          clearInterval(intervalId);
          intervalId = null; // Reset the interval ID
        }
      }

      window.onload = init;
    </script>
  </body>
</html>
